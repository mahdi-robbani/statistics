load("exam.RData")
head(ToothGrowth)
ToothGrowth$dose <- as.factor(ToothGrowth$dose)
combinations <- expand.grid(supp = levels(ToothGrowth$supp), dose = levels(ToothGrowth$dose))

apply(combinations, MARGIN = 1, function(x){
  ix <- ToothGrowth$supp == x[1] & ToothGrowth$dose == x[2]
  return( c(mean = mean(ToothGrowth[ix, 1]),
            se = sd(ToothGrowth[ix, 1]) / sqrt(sum(ix) )))
} )

ix <- apply(combinations, MARGIN = 1, function(x){ToothGrowth$supp == x[1] & ToothGrowth$dose == x[2]})
ix[1] & ix[2]   
